#include <esp_log.h>
#include <esp_netif_ip_addr.h>
#include "water-heater-object.hpp"

const char WaterHeater::TAG[] = "ELWHeat";

WaterHeater::WaterHeater(uint8_t instance) : ELObject(instance, WaterHeater::class_u16) {
	//// スーパークラス
	// 設置場所
	props[0x81] = new uint8_t[0x02]{0x01, 0b01111101};  // その他
	// 規格Version情報
	props[0x82] = new uint8_t[0x05]{0x04, 0x00, 0x00, 'Q', 0x01};  // Qでは登録不可
	// 異常発生状態
	props[0x88] = new uint8_t[0x02]{0x01, 0x42};	 // 異常なし
	// メーカコード
	props[0x8a] = maker_code;
	// 状態変更通知アナウンスマップ
	props[0x9d] = new uint8_t[0x08]{0x07, 0x06, 0xea, 0xc3, 0xc2, 0xb2, 0xb0, 0x80};
	// Setプロパティマップ
	props[0x9e] = new uint8_t[0x08]{0x07, 0x06, 0xb0, 0xc0, 0xe3, 0xc7, 0xca, 0xcd};
	// Getプロパティマップ
	props[0x9f] = new uint8_t[0x12]{0x11, 0x11,
						     // fedcba98
							 0b00011001,
							 0b01000000,
							 0b01011000,
							 0b01000000,
							 0b00000000,
							 0b00000000,  // 0x_5
							 0b00000000,
							 0b00010000,
							 0b00010000,
							 0b00010000,
							 0b00010000,  // 0x_a
							 0b00010000,
							 0b00010000,
							 0b00010000,
							 0b00010000,
							 0b00010000};

	// 固有クラス
	props[0x80] = new uint8_t[0x02]{0x01, 0x30};

	props[0xb0] = new uint8_t[0x02]{0x01, 0x42};
	props[0xb2] = new uint8_t[0x02]{0x01, 0x42};

	props[0xc0] = new uint8_t[0x02]{0x01, 0x42};
	props[0xc2] = new uint8_t[0x05]{0x04, 0x00, 0x00, 0x00, 0x00};
	props[0xc3] = new uint8_t[0x02]{0x01, 0x42};

	props[0xe1] = new uint8_t[0x03]{0x02, 0x00, 0x32};
	props[0xe2] = new uint8_t[0x03]{0x02, 0x00, 0xc8};
	props[0xe3] = new uint8_t[0x02]{0x01, 0x42};
	props[0xea] = new uint8_t[0x02]{0x01, 0x42};

	props[0xc7] = new uint8_t[0x02]{0x01, 0x00};
	props[0xc8] = new uint8_t[0x02]{0x01, 0x01};
	props[0xc9] = new uint8_t[0x02]{0x01, 0x02};
	props[0xca] = new uint8_t[0x02]{0x01, 0x00};
	props[0xcb] = new uint8_t[0x11]{0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
	props[0xcc] = new uint8_t[0x09]{0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
	props[0xcd] = new uint8_t[0x02]{0x01, 0x00};
	props[0xce] = new uint8_t[0x11]{0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
	props[0xcf] = new uint8_t[0x09]{0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00};
};
