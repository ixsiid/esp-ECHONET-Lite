#include <esp_log.h>
#include <esp_netif_ip_addr.h>
#include "power-distribution-object.hpp"

const char PowerDistribution::TAG[] = "ELPDist";

PowerDistribution::PowerDistribution(uint8_t instance) : ELObject(instance, PowerDistribution::class_u16) {
	//// スーパークラス
	// 設置場所
	props[0x81] = new uint8_t[0x02]{0x01, 0b01111101};  // その他
	// 規格Version情報
	props[0x82] = new uint8_t[0x05]{0x04, 0x00, 0x00, 'Q', 0x01};  // Qでは登録不可
	// 異常発生状態
	props[0x88] = new uint8_t[0x02]{0x01, 0x42};	 // 異常なし
	// メーカコード
	props[0x8a] = maker_code;
	// 状態変更通知アナウンスマップ
	props[0x9d] = new uint8_t[0x03]{0x02, 0x01, 0x80};
	// Setプロパティマップ
	props[0x9e] = new uint8_t[0x02]{0x01, 0x00};
	// Getプロパティマップ
	props[0x9f] = new uint8_t[0x08]{0x07, 0x06, 0x80, 0xc0, 0xc1, 0xc2, 0xb1, 0xb3};

	// 固有クラス
	props[0x80] = new uint8_t[0x02]{0x01, 0x31};
	props[0xc0] = new uint8_t[0x05]{0x04, 0x00, 0x00, 0x00, 0x00};
	props[0xc1] = new uint8_t[0x05]{0x04, 0x00, 0x00, 0x00, 0x00};
	props[0xc2] = new uint8_t[0x02]{0x01, 0x03};

	props[0xb1] = new uint8_t[0x02]{0x01, 0x01};
	props[0xb3] = new uint8_t[0x07]{0x06, 0x01, 0x01, 0x00, 0x00, 0x00, 0x00};

//	83, 97, 98, b0-be, c0-c8, d0-df, e0-ef
//	b1, b3, c0, c1, c2, d0 -df, e0-ef
};
